Fullstack Food Ordering App with Next.js


Next.js app installation

-open link: https://nextjs.org
-type command: npx create-next-app@latest
-type command: npm run dev
-open route: http://localhost:3000


Building Homepage

-create documentation.txt file for project work description
-open link: https://tailwindcss.com
-update globals.css file
-update component layout.tsx
-update object metadata
-open route: http://localhost:3000
-in folder app create folder (home)
-in folder (home) move component page.tsx from folder app
-type command: npm i react-icons
-in folder (home) create folder components Header.tsx and Hero.tsx
-in components Header.tsx and Hero.tsx create HTML elements with Tailwind CSS classes
-in component (home)/page.tsx import components Header and Hero
-in folder (home) create components HomeMenu.tsx abd MenuItem.tsx
-in component HomeMenu.tsx abd MenuItem.tsx create HTML elements with Tailwind CSS classes
-in component HomeMenu.tsx import component MenuItem
-in component page.tsx import component HomeMenu
-create components AboutUs.tsx, ContactUs.tsx and Footer.tsx
-in components AboutUs.tsx, ContactUs.tsx and Footer.tsx create HTML elements with Tailwind CSS classes
-in component page.tsx import components AboutUs and ContactUs
-in component layout.tsx import component Footer


Authentication - first part

-in component Header.tsx, in tsx more Link components
-in folder app create folder register and component page.tsx
-in component register/page.tsx create HTML elements with Tailwind CSS classes
-open link: http://localhost:3000/register
-in globals.css file add Tailwind CSS classes
-update component layout.tsx
-open link: https://next-auth.js.org
-type command: npm i next-auth
-create folders api, auth and [...nextauth]
-in folder [...nextauth] create route.ts file
-in route.ts file add logic for auth from documentation
-in component register/page.tsx import and invoke function useState()
-in tsx add logic for submitting the form
-in folder api create folder register and route.ts file
-in route.ts file create and export function POST()
-open route: http://localhost:3000/register and click button Register


Authentication - second part

-create .env file and variables NODE_ENV, MONGODB_URL, NEXTAUTH_URL and NEXTAUTH_SECRET
-type command: npm i mongoose
-type command: npm i bcrypt
-type command: npm i --save-dev @types/bcrypt
-create folder models and User.ts file
-in User.ts file create and export variable const User
-update function in register/route.ts file
-update component register/page.tsx with state for creating user
-open route: http://localhost:3000/register and click button Register
-open MongoDB to see saved user
-create folder login and component page.tsx
-in component page.tsx add logic for login
-in folder [...nextauth], in route.ts file update function authorize
-create folder contexts and component AppContext.tsx
-in component layout.tsx import component AppContext
-update component Header.tsx to display auth state
-open link: https://console.cloud.google.com and create new project
-in .env file create variables GOOGLE_CLIENT_ID and GOOGLE_CLIENT_SECRET
-update route.ts file to use Google provider service
-open link: https://authjs.dev/getting-started/adapters/mongodb
-type command: npm i @auth/mongodb-adapter mongodb --legacy-peer-deps
-create folder libs and mongoConnect.ts file
-in mongoConnect.ts file add code from documentation
-in route.ts file update MongoDB adapter logic
-open route: http://localhost:3000 to see user data after login


Profile editing page - first part

-update component Header.tsx to display logged in user name
-create folder profile and component page.tsx
-open route: http://localhost:3000/profile
-update next.config.ts file
-in component profile/page.tsx add logic for displaying user info
-in folder api create folder profile and route.ts file
-in route.ts file create and export async function PUT
-in folder libs create authOptions.ts file
-in authOptions.ts file export variable object const authOptions
-in [...nextauth]/route.ts file import object authOptions
-in profile/route.ts file import object authOptions
-open route: http://localhost:3000/profile and update user name
-open MongoDB to see updated user info


Profile editing page - second part

-open link: https://cloudinary.com
-in .env.local file create variables CLOUDINARY_CLOUD_NAME, CLOUDINARY_API_KEY and CLOUDINARY_API_SECRET
-type command: npm i cloudinary --legacy-peer-deps
-in folder libs create cloudinary.ts file
-in cloudinary.ts file create and export variable cloudinary
-in user.ts file updated model User
-create folder upload and route.ts file
-in route.ts file add logic for uploading user image to Cloudinary service
-in component app/profile.tsx add logic for image upload
-open route: http://localhost:3000/profile and upload a new image
-open Cloudinary to see saved user image


Profile editing page - third part

-open link: https://react-hot-toast.com
-open link: https://www.npmjs.com/package/react-hot-toast
-type command: npm i react-hot-toast --legacy-peer-deps
-create folders components and shared
-move components Header.tsx and Footer.tsx in folder shared
-update component profile/page.tsx to use toast messages
-open route: http://localhost:3000/profile, upload a new image and change user name to see toast messages
-open Cloudinary to see saved user image
-in component profile/page.tsx create new input elements
-in model/user.ts file update model User 
-in profile/route.ts file create and export async function GET()
-update authOptions.ts file for new fields
-open route: http://localhost:3000/profile and update user info
-open MongoDB to see saved info


Admin panel & categories - first part

-in MongoDB create collection admins
-update user model with admin property
-update authOptions.ts file with admin property
-update files register/route.ts and profile/route.ts
-update component profile/page.tsx
-open route: http://localhost:3000/profile
-in folder shared create component UserTabs.tsx
-in component profile/page.tsx import component UserTabs
-in tsx add component UserTabs with prop isAdmin


Admin panel & categories - second part

-create folder categories and component page.tsx
-in component categories/page.tsx import component UserTabs
-open link: http://localhost:3000/categories
-open link: https://nextjs.org/docs/app/api-reference/functions/use-pathname
-in component UserTabs.tsx import and invoke function usePathname()
-update api/profile/route.ts file
-in folder contexts create component useProfile.tsx
-in component categories/page.tsx import and invoke function useProfile()
-in tsx create HTML elements with Tailwind CSS classes
-in folder api create folder categories and route.ts file
-in categories/route.ts file create and export async functions POST(), PUT() and GET()
-in folder models create category.ts file and model Category
-in categories/route.ts file import model Category
-open route: http://localhost:3000/categories and create new category
-add logic for displaying and editing existing categories
-open MongoDB to saved categories


Admin menu items - first part

-update api/upload/route.ts file
-create folder menu-items and component page.tsx
-in component menu-items/page.tsx import component UserTabs
-import and invoke function useProfile()
-in tsx create HTML elements with Tailwind CSS classes
-in folder models create menuItems.ts file
-in folder api create menu-items and route.ts file
-open route: http://localhost:3000/menu-items


Admin menu items - second part

-in menu-items/route.ts file update function DELETE()
-update component menu-items/page.tsx to handle image upload and menu items info
-in folder upload create menu-items and route.ts file
-create folder users and route.ts file
-update register/route.ts file
-update package.json file
-type command: npm i mongodb@^6
-open route: http://localhost:3000/menu-items


Admin menu items - third part

-in folder menu-items create components MenuItemForm.tsx, MenuItemImage.tsx and MenuItems.tsx
-in component page.tsx import created components
-in tsx add components with props
-open route: http://localhost:3000/menu-items


Admin menu items - fourth part

-update logic for small, medium and large menu item price
-update menuItem.ts file and model MenuItem
-update price info in route.ts file
-in folder menu-items update tsx components
-open route: http://localhost:3000/menu-items 


Admin menu items - fifth part

-update logic to connect menu item category with category model from database
-in menuItem.ts file update model MenuItem
-in folder menu-items update tsx components for displaying ui logic for categories
-in menu-items/route.ts file update logic for categories
-open route: http://localhost:3000/menu-items


Admin menu users - first part

-update authOptions.ts file
-in folder app create folder users and component page.tsx
-in folder api create folder users and route.ts file
-add logic for displaying all users
-open route: http://localhost:3000/users


Auth with credentials fixed 

-update authOptions.ts file
-open route: http://localhost:3000/register
-open route: http://localhost:3000/login


Admin menu users - second part

-update ui for displaying users in component users/page.tsx 
-open route: http://localhost:3000/users 


Admin menu users - third part

-add pagination logic in component users/page.tsx and users/route.t
-open route: http://localhost:3000/users


Rule for type any fix

-update files eslint.config.mjs and authOptions.ts


Deployment fix for users page

-open link: https://react.dev/reference/react/Suspense
-in component users/page.tsx import component Suspense
-open route: http://localhost:3000/users
-type command: npm run build


Home menu items update

-update components HomeMenu.tsx and MenuItem.tsx to display all menu items from pizza category
-open route: http://localhost:3000


Menu page - first part

-create folder menu and component page.tsx
-in folder menu create component MenuItem.tsx
-in component page.tsx import component MenuItem
-add logic for displaying menu items to user
-open route: http://localhost:3000/menu


Admin menu items displaying UI fix

-in component menu-items update component MenuItems.tsx do display categories
-open route: http://localhost:3000/menu-items


About and Contact components

-in folder app create folders about and contact
-create components page.tsx
-open: https://sora.chatgpt.com to generate restaurant interior
-open route: http://localhost:3000/about
-open route: http://localhost:3000/contact


Header component - Hamburger button 

-in component Header.tsx add hamburger button logic


Cart global state - first part

-create component CartContext.tsx
-create component cart and page.tsx
-update component MenuItem.tsx to use cart context
-update component Header.tsx to display total number of menu items in the cart
-open route: http://localhost:3000/cart


Cart global state - second part

-update component (home)/MenuItem.tsx to use global cart state
-update UI in component cart/page.tsx
-update UI for component Header.tsx
-update component layout.tsx
-open route: http://localhost:3000/cart


Cart global state - third part

-in api/menu-items.ts file import model category
-update UI for user form in component cart/page.tsx
-open route: http://localhost:3000/cart


Stripe payment - first part

-open link: https://dashboard.stripe.com
-open Stripe website and create new sandbox
-open link: https://www.npmjs.com/package/stripe
-type command: npm i stripe
-open link: https://www.npmjs.com/package/@stripe/react-stripe-js
-type command: npm i @stripe/react-stripe-js
-in .env file create variables STRIPE_PK, STRIPE_SK and STRIPE_WEBHOOK_SECRET
-in folder models create order.ts file and model Order
-in folder api create folder checkout and route.ts file
-in checkout/route.ts create and export async function POST()
-create folder webhook and route.ts file
-in webhook/route.ts file create and export async function POST()
-in component cart/page.tsx update checkout logic
-create folder checkout and component page.tsx
-update package.json file with new commands
-type command: stripe
-type command: stripe login
-type command: stripe listen --forward-to localhost:3000/api/webhook
-open route: http://localhost:3000/cart and click button Proceed to Checkout
-open MongoDB to see saved order with property paid: false
-open route: https://checkout.stripe.com/c/pay/[stripeId]
-add your payment information and click button Pay
-open MongoDB to see saved order with property paid: true


Vercel deployment error - Checkout component

-update component checkout/page.tsx


Orders page - first part

-in .env create variable NEXT_PUBLIC_APP_URL
-in folder api create folder orders and route.ts file
-in folder app create folder orders and component page.tsx to display all orders
-update component UserTabs.tsx
-in orders create folder [id] and component page.tsx to display detailed info about order
-in folder orders create component OrdersTable.tsx
-in component orders/page.tsx import component OrdersTable
-open route: http://localhost:3000/orders
-open route: http://localhost:3000/orders/[id]


Orders page - second part

-update component UserTabs
-in folder orders/[id] create three new components
-import created components in order/[id]/page.tsx component
-open route: http://localhost:3000/orders
-open route: http://localhost:3000/orders/[id]


My orders page - first part

-update component UserTabs.tsx
-in folder api create folder my-orders and route.ts file
-in folder app create folder my-orders and component page.tsx for displaying signed in user orders
-in folder my-orders create folder [id] and component page.tsx
-in folder [id] create three components
-in folder [id]/page.tsx import created components
-update Tailwind CSS classes in existing components
-open route: http://localhost:3000/my-orders
-open route: http://localhost:3000/my-orders/[id]


My orders page - second part

-create folder payment-link and route.ts file
-update component MyOrdersTable.tsx
-open route: http://localhost:3000/my-orders and click Finish Payment button
-open route: http://localhost:3000/my-orders/[id]
-open Stripe dashboard to see payments


User profile update

-in folder public add image for default user
-in component profile create components UserProfileForm.tsx and UserProfileImage.tsx
-in component profile/page.tsx import created components
-open Cloudinary service to see saved user image
-update upload/users/route.ts file
-open route: http://localhost:3000/profile and update image and user info


Header component update

-update component Header.tsx
-in folder shared create component Title.tsx
-remove component UserTabs.tsx
-update page.tsx components


Statistics charts

-open link: https://ui.shadcn.com
-open link: https://ui.shadcn.com/docs
-open link: https://ui.shadcn.com/docs/components/chart
-open link: https://ui.shadcn.com/docs/installation/next
-type command: npx shadcn@latest init
-type command: npx shadcn@latest add chart
-open globals.css file
-open components.json file
-open folder ui and tsx components
-ope folder lib and utils.ts file
-in folder api create folder statistics and route.ts file
-create folder statistics and component page.tsx
-update globals.css file
-open route: http://localhost:3000/statistics


Users table update

-in folder users create component UsersTable.tsx
-in component page.tsx import component UsersTable.tsx
-open route: http://localhost:3000/users


Users table - Shadcn components

-update component layout.tsx
-open link: https://ui.shadcn.com/docs/components/table
-type command: npx shadcn@latest add table
-open folder ui and component table.tsx
-in component UsersTable.tsx import table components from component table.tsx
-open link: https://ui.shadcn.com/docs/components/badge
-type command: npx shadcn@latest add badge
-open folder ui and component badge.tsx
-in component UsersTable.tsx import component Badge from component Badge.tsx
-open link: https://ui.shadcn.com/docs/components/avatar
-type command: npx shadcn@latest add avatar
-in component UsersTable.tsx import avatar components from component avatar.tsx
-open link: https://ui.shadcn.com/docs/components/pagination
-type command: https://ui.shadcn.com/docs/components/pagination
-type command: npx shadcn@latest add pagination
-open link: https://ui.shadcn.com/docs/components/button
-type command: npx shadcn@latest add button
-in component users/page.tsx import pagination components from component pagination.tsx
-open route: http://localhost:3000/users


Orders table - Shadcn components

-in component OrdersTable.tsx import table components from component table.tsx
-in component orders/page.tsx import pagination components form component pagination.tsx
-open route: http://localhost:3000/orders


My orders table - Shadcn components

-in component MyOrdersTable.tsx import table components from component table.tsx
-in component my-orders/page.tsx import pagination components form component pagination.tsx
-open route: http://localhost:3000/my-orders


Dark mode - Shadcn components

-open link: https://ui.shadcn.com/docs/dark-mode/next
-open link: https://www.npmjs.com/package/next-themes
-type command: npm i next-themes
-open link: https://ui.shadcn.com/docs/components/dropdown-menu
-type command: npx shadcn@latest add dropdown-menu
-open folder ui and component dropdown-menu.tsx
-in folder components create folder theme 
-in folder theme create components ModeToggle.tsx and component ThemeProvider.tsx
-in components ModeToggle.tsx and ThemeProvider.tsx add code from official documentation
-in component layout.tsx import component ThemeProvider
-in component Header.tsx import component ModeToggle